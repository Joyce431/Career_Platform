{"ast":null,"code":"const express = require('express');\nconst cors = require('cors');\nconst bodyParser = require('body-parser');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst app = express();\nconst PORT = process.env.PORT || 5000;\nconst JWT_SECRET = 'your_jwt_secret_key_here'; // In production, use environment variable\n\napp.use(cors());\napp.use(bodyParser.json());\n\n// In-memory mock DB (replace with database in production)\nconst db = {\n  institutions: [],\n  students: [],\n  companies: [],\n  admissions: [],\n  jobPostings: [],\n  applications: [],\n  users: []\n};\n\n// Authentication Middleware\nconst authenticateToken = (req, res, next) => {\n  const authHeader = req.headers['authorization'];\n  const token = authHeader && authHeader.split(' ')[1];\n  if (!token) {\n    return res.status(401).json({\n      error: 'Access token required'\n    });\n  }\n  jwt.verify(token, JWT_SECRET, (err, user) => {\n    if (err) {\n      return res.status(403).json({\n        error: 'Invalid token'\n      });\n    }\n    req.user = user;\n    next();\n  });\n};\n\n// Utility Functions\nconst generateId = () => Date.now().toString();\nconst hashPassword = async password => {\n  return await bcrypt.hash(password, 10);\n};\nconst comparePassword = async (password, hash) => {\n  return await bcrypt.compare(password, hash);\n};\n\n// Basic endpoints\napp.get('/api/ping', (req, res) => res.json({\n  status: 'ok',\n  time: new Date()\n}));\n\n// Authentication Routes\napp.post('/api/register', async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      password,\n      role,\n      phone,\n      industry,\n      dateOfBirth\n    } = req.body;\n\n    // Check if user already exists\n    const existingUser = db.users.find(user => user.email === email);\n    if (existingUser) {\n      return res.status(400).json({\n        error: 'User already exists'\n      });\n    }\n\n    // Hash password\n    const hashedPassword = await hashPassword(password);\n\n    // Create user\n    const user = {\n      id: generateId(),\n      name,\n      email,\n      password: hashedPassword,\n      role,\n      phone: phone || '',\n      industry: industry || '',\n      dateOfBirth: dateOfBirth || '',\n      emailVerified: false,\n      verificationCode: Math.random().toString(36).substring(2, 8).toUpperCase(),\n      createdAt: new Date().toISOString()\n    };\n    db.users.push(user);\n\n    // Create profile based on role\n    if (role === 'student') {\n      const student = {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        phone: user.phone,\n        dateOfBirth: user.dateOfBirth,\n        address: '',\n        education: '',\n        nationality: '',\n        emergencyContact: '',\n        applications: [],\n        documents: {\n          transcripts: [],\n          certificates: [],\n          identification: [],\n          other: []\n        }\n      };\n      db.students.push(student);\n    } else if (role === 'institution') {\n      const institution = {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        phone: user.phone,\n        address: '',\n        website: '',\n        type: 'University',\n        faculties: [],\n        isPublished: false\n      };\n      db.institutions.push(institution);\n    } else if (role === 'company') {\n      const company = {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        phone: user.phone,\n        industry: user.industry,\n        address: '',\n        size: '',\n        description: '',\n        website: '',\n        status: 'pending',\n        registeredDate: new Date().toLocaleDateString(),\n        jobs: []\n      };\n      db.companies.push(company);\n    }\n    res.json({\n      message: 'Registration successful',\n      userId: user.id,\n      verificationCode: user.verificationCode // In production, send via email\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: 'Registration failed'\n    });\n  }\n});\napp.post('/api/verify-email', (req, res) => {\n  const {\n    email,\n    verificationCode\n  } = req.body;\n  const user = db.users.find(u => u.email === email);\n  if (!user) {\n    return res.status(404).json({\n      error: 'User not found'\n    });\n  }\n  if (user.verificationCode === verificationCode) {\n    user.emailVerified = true;\n    res.json({\n      message: 'Email verified successfully'\n    });\n  } else {\n    res.status(400).json({\n      error: 'Invalid verification code'\n    });\n  }\n});\napp.post('/api/login', async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    const user = db.users.find(u => u.email === email);\n    if (!user) {\n      return res.status(404).json({\n        error: 'User not found'\n      });\n    }\n    if (!user.emailVerified) {\n      return res.status(400).json({\n        error: 'Please verify your email first'\n      });\n    }\n    const validPassword = await comparePassword(password, user.password);\n    if (!validPassword) {\n      return res.status(400).json({\n        error: 'Invalid password'\n      });\n    }\n    const token = jwt.sign({\n      id: user.id,\n      email: user.email,\n      role: user.role\n    }, JWT_SECRET, {\n      expiresIn: '24h'\n    });\n    res.json({\n      token,\n      user: {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        role: user.role\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: 'Login failed'\n    });\n  }\n});\n\n// Institutions Management\napp.get('/api/institutions', (req, res) => {\n  res.json(db.institutions);\n});\napp.post('/api/institutions', authenticateToken, (req, res) => {\n  const institution = {\n    id: generateId(),\n    ...req.body,\n    faculties: [],\n    isPublished: false,\n    createdAt: new Date().toISOString()\n  };\n  db.institutions.push(institution);\n  res.json(institution);\n});\napp.put('/api/institutions/:id', authenticateToken, (req, res) => {\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\n  if (!institution) {\n    return res.status(404).json({\n      error: 'Institution not found'\n    });\n  }\n  Object.assign(institution, req.body);\n  res.json(institution);\n});\napp.delete('/api/institutions/:id', authenticateToken, (req, res) => {\n  const index = db.institutions.findIndex(inst => inst.id === req.params.id);\n  if (index === -1) {\n    return res.status(404).json({\n      error: 'Institution not found'\n    });\n  }\n  db.institutions.splice(index, 1);\n  res.json({\n    message: 'Institution deleted successfully'\n  });\n});\n\n// Faculty Management\napp.post('/api/institutions/:id/faculties', authenticateToken, (req, res) => {\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\n  if (!institution) {\n    return res.status(404).json({\n      error: 'Institution not found'\n    });\n  }\n  const faculty = {\n    id: generateId(),\n    ...req.body,\n    courses: []\n  };\n  institution.faculties.push(faculty);\n  res.json(faculty);\n});\napp.delete('/api/institutions/:instId/faculties/:facultyId', authenticateToken, (req, res) => {\n  const institution = db.institutions.find(inst => inst.id === req.params.instId);\n  if (!institution) {\n    return res.status(404).json({\n      error: 'Institution not found'\n    });\n  }\n  institution.faculties = institution.faculties.filter(fac => fac.id !== req.params.facultyId);\n  res.json({\n    message: 'Faculty deleted successfully'\n  });\n});\n\n// Course Management\napp.post('/api/institutions/:instId/faculties/:facultyId/courses', authenticateToken, (req, res) => {\n  const institution = db.institutions.find(inst => inst.id === req.params.instId);\n  if (!institution) {\n    return res.status(404).json({\n      error: 'Institution not found'\n    });\n  }\n  const faculty = institution.faculties.find(fac => fac.id === req.params.facultyId);\n  if (!faculty) {\n    return res.status(404).json({\n      error: 'Faculty not found'\n    });\n  }\n  const course = {\n    id: generateId(),\n    ...req.body\n  };\n  faculty.courses.push(course);\n  res.json(course);\n});\napp.delete('/api/institutions/:instId/faculties/:facultyId/courses/:courseId', authenticateToken, (req, res) => {\n  const institution = db.institutions.find(inst => inst.id === req.params.instId);\n  if (!institution) {\n    return res.status(404).json({\n      error: 'Institution not found'\n    });\n  }\n  const faculty = institution.faculties.find(fac => fac.id === req.params.facultyId);\n  if (!faculty) {\n    return res.status(404).json({\n      error: 'Faculty not found'\n    });\n  }\n  faculty.courses = faculty.courses.filter(course => course.id !== req.params.courseId);\n  res.json({\n    message: 'Course deleted successfully'\n  });\n});\n\n// Admissions Management\napp.post('/api/institutions/:id/publish-admissions', authenticateToken, (req, res) => {\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\n  if (!institution) {\n    return res.status(404).json({\n      error: 'Institution not found'\n    });\n  }\n  institution.isPublished = true;\n  const admission = {\n    id: generateId(),\n    institutionId: institution.id,\n    publishedAt: new Date().toISOString(),\n    status: 'active'\n  };\n  db.admissions.push(admission);\n  res.json({\n    message: 'Admissions published successfully',\n    admission\n  });\n});\napp.post('/api/institutions/:id/close-admissions', authenticateToken, (req, res) => {\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\n  if (!institution) {\n    return res.status(404).json({\n      error: 'Institution not found'\n    });\n  }\n  institution.isPublished = false;\n  const admission = db.admissions.find(adm => adm.institutionId === institution.id && adm.status === 'active');\n  if (admission) {\n    admission.status = 'closed';\n  }\n  res.json({\n    message: 'Admissions closed successfully'\n  });\n});\n\n// Student Applications\napp.post('/api/students/:id/apply', authenticateToken, (req, res) => {\n  const student = db.students.find(s => s.id === req.params.id);\n  if (!student) {\n    return res.status(404).json({\n      error: 'Student not found'\n    });\n  }\n  const {\n    institutionId,\n    courseId,\n    courseName,\n    institutionName\n  } = req.body;\n\n  // Check max 2 applications per institution\n  const applicationsToInstitution = student.applications.filter(app => app.institutionId === institutionId);\n  if (applicationsToInstitution.length >= 2) {\n    return res.status(400).json({\n      error: 'Maximum 2 applications per institution allowed'\n    });\n  }\n  const application = {\n    id: generateId(),\n    studentId: student.id,\n    studentName: student.name,\n    institutionId,\n    institutionName,\n    courseId,\n    courseName,\n    status: 'pending',\n    appliedDate: new Date().toISOString(),\n    applicationId: `APP${generateId().slice(-6)}`\n  };\n  student.applications.push(application);\n  db.applications.push(application);\n  res.json(application);\n});\napp.get('/api/students/:id/applications', authenticateToken, (req, res) => {\n  const student = db.students.find(s => s.id === req.params.id);\n  if (!student) {\n    return res.status(404).json({\n      error: 'Student not found'\n    });\n  }\n  res.json(student.applications);\n});\n\n// Update application status (for institutions)\napp.put('/api/applications/:id/status', authenticateToken, (req, res) => {\n  const application = db.applications.find(app => app.id === req.params.id);\n  if (!application) {\n    return res.status(404).json({\n      error: 'Application not found'\n    });\n  }\n  const {\n    status\n  } = req.body;\n  application.status = status;\n  application.decisionDate = new Date().toISOString();\n\n  // Also update in student's applications\n  const student = db.students.find(s => s.id === application.studentId);\n  if (student) {\n    const studentApp = student.applications.find(app => app.id === application.id);\n    if (studentApp) {\n      studentApp.status = status;\n      studentApp.decisionDate = application.decisionDate;\n    }\n  }\n  res.json(application);\n});\n\n// Company Management\napp.get('/api/companies', authenticateToken, (req, res) => {\n  res.json(db.companies);\n});\napp.put('/api/companies/:id/status', authenticateToken, (req, res) => {\n  const company = db.companies.find(comp => comp.id === req.params.id);\n  if (!company) {\n    return res.status(404).json({\n      error: 'Company not found'\n    });\n  }\n  const {\n    status\n  } = req.body;\n  company.status = status;\n  res.json(company);\n});\n\n// Job Postings\napp.get('/api/jobs', (req, res) => {\n  const allJobs = db.companies.flatMap(company => company.jobs.map(job => ({\n    ...job,\n    company: company.name,\n    companyId: company.id,\n    companyEmail: company.email\n  })));\n  res.json(allJobs);\n});\napp.post('/api/companies/:id/jobs', authenticateToken, (req, res) => {\n  const company = db.companies.find(comp => comp.id === req.params.id);\n  if (!company) {\n    return res.status(404).json({\n      error: 'Company not found'\n    });\n  }\n  const job = {\n    id: generateId(),\n    ...req.body,\n    postedDate: new Date().toISOString(),\n    status: 'active',\n    applicants: 0,\n    views: 0\n  };\n  company.jobs.push(job);\n  res.json(job);\n});\n\n// Job Applications\napp.post('/api/jobs/:id/apply', authenticateToken, (req, res) => {\n  const {\n    studentId\n  } = req.body;\n  const student = db.students.find(s => s.id === studentId);\n  if (!student) {\n    return res.status(404).json({\n      error: 'Student not found'\n    });\n  }\n\n  // Find job across all companies\n  let targetJob = null;\n  let targetCompany = null;\n  for (const company of db.companies) {\n    const job = company.jobs.find(j => j.id === req.params.id);\n    if (job) {\n      targetJob = job;\n      targetCompany = company;\n      break;\n    }\n  }\n  if (!targetJob) {\n    return res.status(404).json({\n      error: 'Job not found'\n    });\n  }\n\n  // Check if already applied\n  const existingApplication = student.appliedJobs && student.appliedJobs.find(jobId => jobId === req.params.id);\n  if (existingApplication) {\n    return res.status(400).json({\n      error: 'Already applied to this job'\n    });\n  }\n\n  // Add to student's applied jobs\n  if (!student.appliedJobs) {\n    student.appliedJobs = [];\n  }\n  student.appliedJobs.push(req.params.id);\n\n  // Increment applicant count\n  targetJob.applicants = (targetJob.applicants || 0) + 1;\n  res.json({\n    message: 'Application submitted successfully',\n    job: targetJob.title,\n    company: targetCompany.name\n  });\n});\n\n// Student Profile Management\napp.get('/api/students/:id', authenticateToken, (req, res) => {\n  const student = db.students.find(s => s.id === req.params.id);\n  if (!student) {\n    return res.status(404).json({\n      error: 'Student not found'\n    });\n  }\n  res.json(student);\n});\napp.put('/api/students/:id', authenticateToken, (req, res) => {\n  const student = db.students.find(s => s.id === req.params.id);\n  if (!student) {\n    return res.status(404).json({\n      error: 'Student not found'\n    });\n  }\n  Object.assign(student, req.body);\n  res.json(student);\n});\n\n// Document Management\napp.post('/api/students/:id/documents', authenticateToken, (req, res) => {\n  const student = db.students.find(s => s.id === req.params.id);\n  if (!student) {\n    return res.status(404).json({\n      error: 'Student not found'\n    });\n  }\n  const {\n    type,\n    name,\n    size\n  } = req.body;\n  const document = {\n    id: generateId(),\n    name,\n    type,\n    size,\n    uploadDate: new Date().toISOString()\n  };\n  if (!student.documents[type]) {\n    student.documents[type] = [];\n  }\n  student.documents[type].push(document);\n  res.json(document);\n});\n\n// Institution Applications\napp.get('/api/institutions/:id/applications', authenticateToken, (req, res) => {\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\n  if (!institution) {\n    return res.status(404).json({\n      error: 'Institution not found'\n    });\n  }\n  const institutionApplications = db.applications.filter(app => app.institutionId === req.params.id);\n  res.json(institutionApplications);\n});\n\n// Reports and Analytics\napp.get('/api/reports/overview', authenticateToken, (req, res) => {\n  const overview = {\n    totalStudents: db.students.length,\n    totalInstitutions: db.institutions.length,\n    totalCompanies: db.companies.length,\n    totalApplications: db.applications.length,\n    activeAdmissions: db.admissions.filter(adm => adm.status === 'active').length,\n    pendingApplications: db.applications.filter(app => app.status === 'pending').length,\n    approvedCompanies: db.companies.filter(comp => comp.status === 'approved').length\n  };\n  res.json(overview);\n});\n\n// Search endpoints\napp.get('/api/search/institutions', (req, res) => {\n  const {\n    q\n  } = req.query;\n  const filtered = db.institutions.filter(inst => {\n    var _inst$location;\n    return inst.name.toLowerCase().includes(q.toLowerCase()) || ((_inst$location = inst.location) === null || _inst$location === void 0 ? void 0 : _inst$location.toLowerCase().includes(q.toLowerCase()));\n  });\n  res.json(filtered);\n});\napp.get('/api/search/jobs', (req, res) => {\n  const {\n    q,\n    type\n  } = req.query;\n  const allJobs = db.companies.flatMap(company => company.jobs.map(job => ({\n    ...job,\n    company: company.name,\n    companyId: company.id\n  })));\n  let filtered = allJobs;\n  if (q) {\n    filtered = filtered.filter(job => job.title.toLowerCase().includes(q.toLowerCase()) || job.company.toLowerCase().includes(q.toLowerCase()) || job.description.toLowerCase().includes(q.toLowerCase()));\n  }\n  if (type && type !== 'all') {\n    filtered = filtered.filter(job => job.type.toLowerCase() === type.toLowerCase());\n  }\n  res.json(filtered);\n});\n\n// Initialize with sample data\nconst initializeSampleData = () => {\n  // Sample institutions\n  db.institutions.push({\n    id: '1',\n    name: 'University of Technology',\n    location: 'New York',\n    type: 'University',\n    email: 'admin@unitech.edu',\n    phone: '+1 (555) 123-4567',\n    faculties: [{\n      id: '101',\n      name: 'Engineering',\n      description: 'School of Engineering and Technology',\n      courses: [{\n        id: '1001',\n        name: 'Computer Science',\n        code: 'CS101',\n        duration: '4 years',\n        credits: '120'\n      }, {\n        id: '1002',\n        name: 'Electrical Engineering',\n        code: 'EE201',\n        duration: '4 years',\n        credits: '125'\n      }]\n    }],\n    isPublished: true\n  });\n\n  // Sample companies\n  db.companies.push({\n    id: '1',\n    name: 'Tech Solutions Ltd',\n    email: 'contact@techsolutions.com',\n    phone: '+1 (555) 987-6543',\n    industry: 'Technology',\n    status: 'approved',\n    registeredDate: '2024-01-15',\n    jobs: [{\n      id: '1',\n      title: 'Junior Software Developer',\n      type: 'Full-time',\n      location: 'New York, NY',\n      salary: '$65,000 - $85,000',\n      description: 'Join our dynamic team to develop cutting-edge web applications.',\n      requirements: ['Computer Science degree', 'JavaScript/React knowledge', 'Problem-solving skills'],\n      qualifications: ['Experience with cloud platforms', 'Knowledge of Agile methodologies'],\n      deadline: '2024-02-15',\n      category: 'Technology',\n      postedDate: '2024-01-15',\n      status: 'active',\n      applicants: 0,\n      views: 0\n    }]\n  });\n  console.log('Sample data initialized');\n};\n\n// Initialize sample data on server start\ninitializeSampleData();\napp.listen(PORT, () => console.log(`Server listening on ${PORT}`));","map":{"version":3,"names":["express","require","cors","bodyParser","bcrypt","jwt","app","PORT","process","env","JWT_SECRET","use","json","db","institutions","students","companies","admissions","jobPostings","applications","users","authenticateToken","req","res","next","authHeader","headers","token","split","status","error","verify","err","user","generateId","Date","now","toString","hashPassword","password","hash","comparePassword","compare","get","time","post","name","email","role","phone","industry","dateOfBirth","body","existingUser","find","hashedPassword","id","emailVerified","verificationCode","Math","random","substring","toUpperCase","createdAt","toISOString","push","student","address","education","nationality","emergencyContact","documents","transcripts","certificates","identification","other","institution","website","type","faculties","isPublished","company","size","description","registeredDate","toLocaleDateString","jobs","message","userId","u","validPassword","sign","expiresIn","put","inst","params","Object","assign","delete","index","findIndex","splice","faculty","courses","instId","filter","fac","facultyId","course","courseId","admission","institutionId","publishedAt","adm","s","courseName","institutionName","applicationsToInstitution","length","application","studentId","studentName","appliedDate","applicationId","slice","decisionDate","studentApp","comp","allJobs","flatMap","map","job","companyId","companyEmail","postedDate","applicants","views","targetJob","targetCompany","j","existingApplication","appliedJobs","jobId","title","document","uploadDate","institutionApplications","overview","totalStudents","totalInstitutions","totalCompanies","totalApplications","activeAdmissions","pendingApplications","approvedCompanies","q","query","filtered","_inst$location","toLowerCase","includes","location","initializeSampleData","code","duration","credits","salary","requirements","qualifications","deadline","category","console","log","listen"],"sources":["D:/career_platform_scaffold/career_platform/frontend/src/components/Support.js"],"sourcesContent":["const express = require('express');\r\nconst cors = require('cors');\r\nconst bodyParser = require('body-parser');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst app = express();\r\nconst PORT = process.env.PORT || 5000;\r\n\r\nconst JWT_SECRET = 'your_jwt_secret_key_here'; // In production, use environment variable\r\n\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\n\r\n// In-memory mock DB (replace with database in production)\r\nconst db = {\r\n  institutions: [],\r\n  students: [],\r\n  companies: [],\r\n  admissions: [],\r\n  jobPostings: [],\r\n  applications: [],\r\n  users: []\r\n};\r\n\r\n// Authentication Middleware\r\nconst authenticateToken = (req, res, next) => {\r\n  const authHeader = req.headers['authorization'];\r\n  const token = authHeader && authHeader.split(' ')[1];\r\n\r\n  if (!token) {\r\n    return res.status(401).json({ error: 'Access token required' });\r\n  }\r\n\r\n  jwt.verify(token, JWT_SECRET, (err, user) => {\r\n    if (err) {\r\n      return res.status(403).json({ error: 'Invalid token' });\r\n    }\r\n    req.user = user;\r\n    next();\r\n  });\r\n};\r\n\r\n// Utility Functions\r\nconst generateId = () => Date.now().toString();\r\nconst hashPassword = async (password) => {\r\n  return await bcrypt.hash(password, 10);\r\n};\r\nconst comparePassword = async (password, hash) => {\r\n  return await bcrypt.compare(password, hash);\r\n};\r\n\r\n// Basic endpoints\r\napp.get('/api/ping', (req, res) => res.json({ status: 'ok', time: new Date() }));\r\n\r\n// Authentication Routes\r\napp.post('/api/register', async (req, res) => {\r\n  try {\r\n    const { name, email, password, role, phone, industry, dateOfBirth } = req.body;\r\n\r\n    // Check if user already exists\r\n    const existingUser = db.users.find(user => user.email === email);\r\n    if (existingUser) {\r\n      return res.status(400).json({ error: 'User already exists' });\r\n    }\r\n\r\n    // Hash password\r\n    const hashedPassword = await hashPassword(password);\r\n\r\n    // Create user\r\n    const user = {\r\n      id: generateId(),\r\n      name,\r\n      email,\r\n      password: hashedPassword,\r\n      role,\r\n      phone: phone || '',\r\n      industry: industry || '',\r\n      dateOfBirth: dateOfBirth || '',\r\n      emailVerified: false,\r\n      verificationCode: Math.random().toString(36).substring(2, 8).toUpperCase(),\r\n      createdAt: new Date().toISOString()\r\n    };\r\n\r\n    db.users.push(user);\r\n\r\n    // Create profile based on role\r\n    if (role === 'student') {\r\n      const student = {\r\n        id: user.id,\r\n        name: user.name,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        dateOfBirth: user.dateOfBirth,\r\n        address: '',\r\n        education: '',\r\n        nationality: '',\r\n        emergencyContact: '',\r\n        applications: [],\r\n        documents: {\r\n          transcripts: [],\r\n          certificates: [],\r\n          identification: [],\r\n          other: []\r\n        }\r\n      };\r\n      db.students.push(student);\r\n    } else if (role === 'institution') {\r\n      const institution = {\r\n        id: user.id,\r\n        name: user.name,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        address: '',\r\n        website: '',\r\n        type: 'University',\r\n        faculties: [],\r\n        isPublished: false\r\n      };\r\n      db.institutions.push(institution);\r\n    } else if (role === 'company') {\r\n      const company = {\r\n        id: user.id,\r\n        name: user.name,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        industry: user.industry,\r\n        address: '',\r\n        size: '',\r\n        description: '',\r\n        website: '',\r\n        status: 'pending',\r\n        registeredDate: new Date().toLocaleDateString(),\r\n        jobs: []\r\n      };\r\n      db.companies.push(company);\r\n    }\r\n\r\n    res.json({ \r\n      message: 'Registration successful', \r\n      userId: user.id,\r\n      verificationCode: user.verificationCode // In production, send via email\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({ error: 'Registration failed' });\r\n  }\r\n});\r\n\r\napp.post('/api/verify-email', (req, res) => {\r\n  const { email, verificationCode } = req.body;\r\n  \r\n  const user = db.users.find(u => u.email === email);\r\n  if (!user) {\r\n    return res.status(404).json({ error: 'User not found' });\r\n  }\r\n\r\n  if (user.verificationCode === verificationCode) {\r\n    user.emailVerified = true;\r\n    res.json({ message: 'Email verified successfully' });\r\n  } else {\r\n    res.status(400).json({ error: 'Invalid verification code' });\r\n  }\r\n});\r\n\r\napp.post('/api/login', async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    const user = db.users.find(u => u.email === email);\r\n    if (!user) {\r\n      return res.status(404).json({ error: 'User not found' });\r\n    }\r\n\r\n    if (!user.emailVerified) {\r\n      return res.status(400).json({ error: 'Please verify your email first' });\r\n    }\r\n\r\n    const validPassword = await comparePassword(password, user.password);\r\n    if (!validPassword) {\r\n      return res.status(400).json({ error: 'Invalid password' });\r\n    }\r\n\r\n    const token = jwt.sign(\r\n      { id: user.id, email: user.email, role: user.role },\r\n      JWT_SECRET,\r\n      { expiresIn: '24h' }\r\n    );\r\n\r\n    res.json({\r\n      token,\r\n      user: {\r\n        id: user.id,\r\n        name: user.name,\r\n        email: user.email,\r\n        role: user.role\r\n      }\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({ error: 'Login failed' });\r\n  }\r\n});\r\n\r\n// Institutions Management\r\napp.get('/api/institutions', (req, res) => {\r\n  res.json(db.institutions);\r\n});\r\n\r\napp.post('/api/institutions', authenticateToken, (req, res) => {\r\n  const institution = {\r\n    id: generateId(),\r\n    ...req.body,\r\n    faculties: [],\r\n    isPublished: false,\r\n    createdAt: new Date().toISOString()\r\n  };\r\n  db.institutions.push(institution);\r\n  res.json(institution);\r\n});\r\n\r\napp.put('/api/institutions/:id', authenticateToken, (req, res) => {\r\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\r\n  if (!institution) {\r\n    return res.status(404).json({ error: 'Institution not found' });\r\n  }\r\n\r\n  Object.assign(institution, req.body);\r\n  res.json(institution);\r\n});\r\n\r\napp.delete('/api/institutions/:id', authenticateToken, (req, res) => {\r\n  const index = db.institutions.findIndex(inst => inst.id === req.params.id);\r\n  if (index === -1) {\r\n    return res.status(404).json({ error: 'Institution not found' });\r\n  }\r\n\r\n  db.institutions.splice(index, 1);\r\n  res.json({ message: 'Institution deleted successfully' });\r\n});\r\n\r\n// Faculty Management\r\napp.post('/api/institutions/:id/faculties', authenticateToken, (req, res) => {\r\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\r\n  if (!institution) {\r\n    return res.status(404).json({ error: 'Institution not found' });\r\n  }\r\n\r\n  const faculty = {\r\n    id: generateId(),\r\n    ...req.body,\r\n    courses: []\r\n  };\r\n  institution.faculties.push(faculty);\r\n  res.json(faculty);\r\n});\r\n\r\napp.delete('/api/institutions/:instId/faculties/:facultyId', authenticateToken, (req, res) => {\r\n  const institution = db.institutions.find(inst => inst.id === req.params.instId);\r\n  if (!institution) {\r\n    return res.status(404).json({ error: 'Institution not found' });\r\n  }\r\n\r\n  institution.faculties = institution.faculties.filter(fac => fac.id !== req.params.facultyId);\r\n  res.json({ message: 'Faculty deleted successfully' });\r\n});\r\n\r\n// Course Management\r\napp.post('/api/institutions/:instId/faculties/:facultyId/courses', authenticateToken, (req, res) => {\r\n  const institution = db.institutions.find(inst => inst.id === req.params.instId);\r\n  if (!institution) {\r\n    return res.status(404).json({ error: 'Institution not found' });\r\n  }\r\n\r\n  const faculty = institution.faculties.find(fac => fac.id === req.params.facultyId);\r\n  if (!faculty) {\r\n    return res.status(404).json({ error: 'Faculty not found' });\r\n  }\r\n\r\n  const course = {\r\n    id: generateId(),\r\n    ...req.body\r\n  };\r\n  faculty.courses.push(course);\r\n  res.json(course);\r\n});\r\n\r\napp.delete('/api/institutions/:instId/faculties/:facultyId/courses/:courseId', authenticateToken, (req, res) => {\r\n  const institution = db.institutions.find(inst => inst.id === req.params.instId);\r\n  if (!institution) {\r\n    return res.status(404).json({ error: 'Institution not found' });\r\n  }\r\n\r\n  const faculty = institution.faculties.find(fac => fac.id === req.params.facultyId);\r\n  if (!faculty) {\r\n    return res.status(404).json({ error: 'Faculty not found' });\r\n  }\r\n\r\n  faculty.courses = faculty.courses.filter(course => course.id !== req.params.courseId);\r\n  res.json({ message: 'Course deleted successfully' });\r\n});\r\n\r\n// Admissions Management\r\napp.post('/api/institutions/:id/publish-admissions', authenticateToken, (req, res) => {\r\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\r\n  if (!institution) {\r\n    return res.status(404).json({ error: 'Institution not found' });\r\n  }\r\n\r\n  institution.isPublished = true;\r\n  \r\n  const admission = {\r\n    id: generateId(),\r\n    institutionId: institution.id,\r\n    publishedAt: new Date().toISOString(),\r\n    status: 'active'\r\n  };\r\n  db.admissions.push(admission);\r\n\r\n  res.json({ message: 'Admissions published successfully', admission });\r\n});\r\n\r\napp.post('/api/institutions/:id/close-admissions', authenticateToken, (req, res) => {\r\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\r\n  if (!institution) {\r\n    return res.status(404).json({ error: 'Institution not found' });\r\n  }\r\n\r\n  institution.isPublished = false;\r\n  \r\n  const admission = db.admissions.find(adm => adm.institutionId === institution.id && adm.status === 'active');\r\n  if (admission) {\r\n    admission.status = 'closed';\r\n  }\r\n\r\n  res.json({ message: 'Admissions closed successfully' });\r\n});\r\n\r\n// Student Applications\r\napp.post('/api/students/:id/apply', authenticateToken, (req, res) => {\r\n  const student = db.students.find(s => s.id === req.params.id);\r\n  if (!student) {\r\n    return res.status(404).json({ error: 'Student not found' });\r\n  }\r\n\r\n  const { institutionId, courseId, courseName, institutionName } = req.body;\r\n\r\n  // Check max 2 applications per institution\r\n  const applicationsToInstitution = student.applications.filter(app => app.institutionId === institutionId);\r\n  if (applicationsToInstitution.length >= 2) {\r\n    return res.status(400).json({ error: 'Maximum 2 applications per institution allowed' });\r\n  }\r\n\r\n  const application = {\r\n    id: generateId(),\r\n    studentId: student.id,\r\n    studentName: student.name,\r\n    institutionId,\r\n    institutionName,\r\n    courseId,\r\n    courseName,\r\n    status: 'pending',\r\n    appliedDate: new Date().toISOString(),\r\n    applicationId: `APP${generateId().slice(-6)}`\r\n  };\r\n\r\n  student.applications.push(application);\r\n  db.applications.push(application);\r\n\r\n  res.json(application);\r\n});\r\n\r\napp.get('/api/students/:id/applications', authenticateToken, (req, res) => {\r\n  const student = db.students.find(s => s.id === req.params.id);\r\n  if (!student) {\r\n    return res.status(404).json({ error: 'Student not found' });\r\n  }\r\n\r\n  res.json(student.applications);\r\n});\r\n\r\n// Update application status (for institutions)\r\napp.put('/api/applications/:id/status', authenticateToken, (req, res) => {\r\n  const application = db.applications.find(app => app.id === req.params.id);\r\n  if (!application) {\r\n    return res.status(404).json({ error: 'Application not found' });\r\n  }\r\n\r\n  const { status } = req.body;\r\n  application.status = status;\r\n  application.decisionDate = new Date().toISOString();\r\n\r\n  // Also update in student's applications\r\n  const student = db.students.find(s => s.id === application.studentId);\r\n  if (student) {\r\n    const studentApp = student.applications.find(app => app.id === application.id);\r\n    if (studentApp) {\r\n      studentApp.status = status;\r\n      studentApp.decisionDate = application.decisionDate;\r\n    }\r\n  }\r\n\r\n  res.json(application);\r\n});\r\n\r\n// Company Management\r\napp.get('/api/companies', authenticateToken, (req, res) => {\r\n  res.json(db.companies);\r\n});\r\n\r\napp.put('/api/companies/:id/status', authenticateToken, (req, res) => {\r\n  const company = db.companies.find(comp => comp.id === req.params.id);\r\n  if (!company) {\r\n    return res.status(404).json({ error: 'Company not found' });\r\n  }\r\n\r\n  const { status } = req.body;\r\n  company.status = status;\r\n\r\n  res.json(company);\r\n});\r\n\r\n// Job Postings\r\napp.get('/api/jobs', (req, res) => {\r\n  const allJobs = db.companies.flatMap(company => \r\n    company.jobs.map(job => ({\r\n      ...job,\r\n      company: company.name,\r\n      companyId: company.id,\r\n      companyEmail: company.email\r\n    }))\r\n  );\r\n  res.json(allJobs);\r\n});\r\n\r\napp.post('/api/companies/:id/jobs', authenticateToken, (req, res) => {\r\n  const company = db.companies.find(comp => comp.id === req.params.id);\r\n  if (!company) {\r\n    return res.status(404).json({ error: 'Company not found' });\r\n  }\r\n\r\n  const job = {\r\n    id: generateId(),\r\n    ...req.body,\r\n    postedDate: new Date().toISOString(),\r\n    status: 'active',\r\n    applicants: 0,\r\n    views: 0\r\n  };\r\n\r\n  company.jobs.push(job);\r\n  res.json(job);\r\n});\r\n\r\n// Job Applications\r\napp.post('/api/jobs/:id/apply', authenticateToken, (req, res) => {\r\n  const { studentId } = req.body;\r\n  \r\n  const student = db.students.find(s => s.id === studentId);\r\n  if (!student) {\r\n    return res.status(404).json({ error: 'Student not found' });\r\n  }\r\n\r\n  // Find job across all companies\r\n  let targetJob = null;\r\n  let targetCompany = null;\r\n\r\n  for (const company of db.companies) {\r\n    const job = company.jobs.find(j => j.id === req.params.id);\r\n    if (job) {\r\n      targetJob = job;\r\n      targetCompany = company;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (!targetJob) {\r\n    return res.status(404).json({ error: 'Job not found' });\r\n  }\r\n\r\n  // Check if already applied\r\n  const existingApplication = student.appliedJobs && student.appliedJobs.find(jobId => jobId === req.params.id);\r\n  if (existingApplication) {\r\n    return res.status(400).json({ error: 'Already applied to this job' });\r\n  }\r\n\r\n  // Add to student's applied jobs\r\n  if (!student.appliedJobs) {\r\n    student.appliedJobs = [];\r\n  }\r\n  student.appliedJobs.push(req.params.id);\r\n\r\n  // Increment applicant count\r\n  targetJob.applicants = (targetJob.applicants || 0) + 1;\r\n\r\n  res.json({ \r\n    message: 'Application submitted successfully',\r\n    job: targetJob.title,\r\n    company: targetCompany.name\r\n  });\r\n});\r\n\r\n// Student Profile Management\r\napp.get('/api/students/:id', authenticateToken, (req, res) => {\r\n  const student = db.students.find(s => s.id === req.params.id);\r\n  if (!student) {\r\n    return res.status(404).json({ error: 'Student not found' });\r\n  }\r\n  res.json(student);\r\n});\r\n\r\napp.put('/api/students/:id', authenticateToken, (req, res) => {\r\n  const student = db.students.find(s => s.id === req.params.id);\r\n  if (!student) {\r\n    return res.status(404).json({ error: 'Student not found' });\r\n  }\r\n\r\n  Object.assign(student, req.body);\r\n  res.json(student);\r\n});\r\n\r\n// Document Management\r\napp.post('/api/students/:id/documents', authenticateToken, (req, res) => {\r\n  const student = db.students.find(s => s.id === req.params.id);\r\n  if (!student) {\r\n    return res.status(404).json({ error: 'Student not found' });\r\n  }\r\n\r\n  const { type, name, size } = req.body;\r\n  const document = {\r\n    id: generateId(),\r\n    name,\r\n    type,\r\n    size,\r\n    uploadDate: new Date().toISOString()\r\n  };\r\n\r\n  if (!student.documents[type]) {\r\n    student.documents[type] = [];\r\n  }\r\n  student.documents[type].push(document);\r\n\r\n  res.json(document);\r\n});\r\n\r\n// Institution Applications\r\napp.get('/api/institutions/:id/applications', authenticateToken, (req, res) => {\r\n  const institution = db.institutions.find(inst => inst.id === req.params.id);\r\n  if (!institution) {\r\n    return res.status(404).json({ error: 'Institution not found' });\r\n  }\r\n\r\n  const institutionApplications = db.applications.filter(app => app.institutionId === req.params.id);\r\n  res.json(institutionApplications);\r\n});\r\n\r\n// Reports and Analytics\r\napp.get('/api/reports/overview', authenticateToken, (req, res) => {\r\n  const overview = {\r\n    totalStudents: db.students.length,\r\n    totalInstitutions: db.institutions.length,\r\n    totalCompanies: db.companies.length,\r\n    totalApplications: db.applications.length,\r\n    activeAdmissions: db.admissions.filter(adm => adm.status === 'active').length,\r\n    pendingApplications: db.applications.filter(app => app.status === 'pending').length,\r\n    approvedCompanies: db.companies.filter(comp => comp.status === 'approved').length\r\n  };\r\n\r\n  res.json(overview);\r\n});\r\n\r\n// Search endpoints\r\napp.get('/api/search/institutions', (req, res) => {\r\n  const { q } = req.query;\r\n  const filtered = db.institutions.filter(inst => \r\n    inst.name.toLowerCase().includes(q.toLowerCase()) ||\r\n    inst.location?.toLowerCase().includes(q.toLowerCase())\r\n  );\r\n  res.json(filtered);\r\n});\r\n\r\napp.get('/api/search/jobs', (req, res) => {\r\n  const { q, type } = req.query;\r\n  const allJobs = db.companies.flatMap(company => \r\n    company.jobs.map(job => ({\r\n      ...job,\r\n      company: company.name,\r\n      companyId: company.id\r\n    }))\r\n  );\r\n\r\n  let filtered = allJobs;\r\n  \r\n  if (q) {\r\n    filtered = filtered.filter(job => \r\n      job.title.toLowerCase().includes(q.toLowerCase()) ||\r\n      job.company.toLowerCase().includes(q.toLowerCase()) ||\r\n      job.description.toLowerCase().includes(q.toLowerCase())\r\n    );\r\n  }\r\n\r\n  if (type && type !== 'all') {\r\n    filtered = filtered.filter(job => job.type.toLowerCase() === type.toLowerCase());\r\n  }\r\n\r\n  res.json(filtered);\r\n});\r\n\r\n// Initialize with sample data\r\nconst initializeSampleData = () => {\r\n  // Sample institutions\r\n  db.institutions.push({\r\n    id: '1',\r\n    name: 'University of Technology',\r\n    location: 'New York',\r\n    type: 'University',\r\n    email: 'admin@unitech.edu',\r\n    phone: '+1 (555) 123-4567',\r\n    faculties: [\r\n      {\r\n        id: '101',\r\n        name: 'Engineering',\r\n        description: 'School of Engineering and Technology',\r\n        courses: [\r\n          { id: '1001', name: 'Computer Science', code: 'CS101', duration: '4 years', credits: '120' },\r\n          { id: '1002', name: 'Electrical Engineering', code: 'EE201', duration: '4 years', credits: '125' }\r\n        ]\r\n      }\r\n    ],\r\n    isPublished: true\r\n  });\r\n\r\n  // Sample companies\r\n  db.companies.push({\r\n    id: '1',\r\n    name: 'Tech Solutions Ltd',\r\n    email: 'contact@techsolutions.com',\r\n    phone: '+1 (555) 987-6543',\r\n    industry: 'Technology',\r\n    status: 'approved',\r\n    registeredDate: '2024-01-15',\r\n    jobs: [\r\n      {\r\n        id: '1',\r\n        title: 'Junior Software Developer',\r\n        type: 'Full-time',\r\n        location: 'New York, NY',\r\n        salary: '$65,000 - $85,000',\r\n        description: 'Join our dynamic team to develop cutting-edge web applications.',\r\n        requirements: ['Computer Science degree', 'JavaScript/React knowledge', 'Problem-solving skills'],\r\n        qualifications: ['Experience with cloud platforms', 'Knowledge of Agile methodologies'],\r\n        deadline: '2024-02-15',\r\n        category: 'Technology',\r\n        postedDate: '2024-01-15',\r\n        status: 'active',\r\n        applicants: 0,\r\n        views: 0\r\n      }\r\n    ]\r\n  });\r\n\r\n  console.log('Sample data initialized');\r\n};\r\n\r\n// Initialize sample data on server start\r\ninitializeSampleData();\r\n\r\napp.listen(PORT, () => console.log(`Server listening on ${PORT}`));"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}